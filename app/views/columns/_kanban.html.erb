<!-- Masthead -->
<header class="masthead">

	<div class="boards-menu">
		<div class="board-search">
			<input type="search" class="board-search-input" aria-label="Board Search">
			<i class="fas fa-search search-icon" aria-hidden="true"></i>
		</div>
	</div>

	<div class="user-settings">

		<a class="user-settings-btn" aria-label="Create" data-action="click->add_a_list#add_a_list">
			<i class="fas fa-plus" aria-hidden="true"></i>
			 Add a list
		</a>

	</div>

</header>
<!-- End of masthead -->

<!-- Lists container -->
<br>
<div style="width: 100%" data-controller="job">
    <section class="lists-container">

      <% columns.each do |column| %>
          <div class="list" data-controller="job" >
            <h3 class="list-title"><%= column.name %></h3>

                <button id="<%=column.id%>" class="add-card-button">Add Card</button>

            <ul class="list-items" data-job-target="listItems" >
              <% column.jobs.each do |job| %>
                <%= link_to edit_job_path(job) do %>
                  <li>
                      <h3>Empresa: <%= job.company %> </h3>
                      <h3>Status: <%= job.status %> </h3>
                      <h3>Sal√°rio: R$ <%= job.salary %> </h3>
                      <h3>-------------------</h3>
                  </li>
                <% end %>
              <% end %>
            </ul>
          </div>
      <% end %>
    </section>
</div>
<!-- End of lists container -->

<!-- Button trigger modal
              <button type="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
              </button> -->
<div class="card my-modal">
  <div class="card-header">
    Create Job
  </div>
  <div class="card-body">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-sm-4 col-xl-6">
          <%= simple_form_for([@column, @job]) do |f| %>
          <%= f.input :company %>
          <%= f.input :role %>
          <%= f.input :level %>
          <%= f.input :description %>
          <%= f.input :job_type %>
          <%= f.input :salary %>
          <%= f.input :application_link %>
          <%= f.button_button t(".submit"), name: "Confirm", class: "btn btn-flat" %>
          <% end %>
        </div>
      </div>
    </div>

    <a href="#" class="btn btn-primary">Go somewhere</a>
  </div>
</div>


<script>
  const modal = document.querySelector(".my-modal");
  const buttons = document.getElementsByClassName("add-card-button");

  for (const button in buttons) {
    if (Object.hasOwnProperty.call(buttons, button)) {
      const element = buttons[button];

      element.addEventListener("click",() => {
        console.log(element.id);
        modal.style.display = modal.style.display === "none" ? "block" : "none";
      })
    }
  }
</script>
